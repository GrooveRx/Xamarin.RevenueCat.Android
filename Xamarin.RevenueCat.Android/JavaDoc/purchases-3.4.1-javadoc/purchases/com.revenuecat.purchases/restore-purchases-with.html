<HTML>
<HEAD>
<meta charset="UTF-8">
<title>restorePurchasesWith - purchases</title>
<link rel="stylesheet" href="../../style.css">
</HEAD>
<BODY>
<a href="../index.html">purchases</a>&nbsp;/&nbsp;<a href="index.html">com.revenuecat.purchases</a>&nbsp;/&nbsp;<a href="./restore-purchases-with.html">restorePurchasesWith</a><br/>
<br/>
<h1>restorePurchasesWith</h1>
<a name="com.revenuecat.purchases$restorePurchasesWith(com.revenuecat.purchases.Purchases, kotlin.Function1((com.revenuecat.purchases.PurchasesError, kotlin.Unit)), kotlin.Function1((com.revenuecat.purchases.PurchaserInfo, kotlin.Unit)))"></a>
<code><span class="keyword">fun </span><a href="-purchases/index.html"><span class="identifier">Purchases</span></a><span class="symbol">.</span><span class="identifier">restorePurchasesWith</span><span class="symbol">(</span><span class="identifier" id="com.revenuecat.purchases$restorePurchasesWith(com.revenuecat.purchases.Purchases, kotlin.Function1((com.revenuecat.purchases.PurchasesError, kotlin.Unit)), kotlin.Function1((com.revenuecat.purchases.PurchaserInfo, kotlin.Unit)))/onError">onError</span><span class="symbol">:</span>&nbsp;<span class="identifier">ErrorFunction</span>&nbsp;<span class="symbol">=</span>&nbsp;onErrorStub<span class="symbol">, </span><span class="identifier" id="com.revenuecat.purchases$restorePurchasesWith(com.revenuecat.purchases.Purchases, kotlin.Function1((com.revenuecat.purchases.PurchasesError, kotlin.Unit)), kotlin.Function1((com.revenuecat.purchases.PurchaserInfo, kotlin.Unit)))/onSuccess">onSuccess</span><span class="symbol">:</span>&nbsp;<span class="identifier">ReceivePurchaserInfoSuccessFunction</span><span class="symbol">)</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html"><span class="identifier">Unit</span></a></code>
<p>Restores purchases made with the current Play Store account for the current user.
This method will post all purchases associated with the current Play Store account to
RevenueCat and become associated with the current <code>appUserID</code>. If the receipt token is being
used by an existing user, the current <code>appUserID</code> will be aliased together with the
<code>appUserID</code> of the existing user. Going forward, either <code>appUserID</code> will be able to reference
the same user.</p>
<p>You shouldn't use this method if you have your own account system. In that case
"restoration" is provided by your app passing the same <code>appUserId</code> used to purchase originally.</p>
<h3>Parameters</h3>
<p><a name="onSuccess"></a>
<code>onSuccess</code> - Will be called after the call has completed.</p>
<p><a name="onError"></a>
<code>onError</code> - Will be called after the call has completed with an error.</p>
</BODY>
</HTML>
